/*!
  *  Name: AN Popup
  *  Description: AN Popup is a simple and lightweight jquery plugin that allows you to create a popup with multiple content type (Image, Video, Google Map, File, etc) and responsive.
  *  Author: Atas Nalar
  *  Version: 1.0.0
  *  License: GNU General Public License v3.0 or later
  *  License URI: http://www.gnu.org/licenses/gpl-3.0.html
*/
function ANPopUp(){$(".an-popup-btn").length>0&&($(".an-popup-btn").each((function(){var a=$(this).attr("href")||$(this).attr("src")||$(this).attr("data-image")||$(this).find("source").attr("src")||$(this).attr("data-video")||$(this).attr("data-map")||$(this).attr("data-url")||$(this).attr("data-src"),t=$(this).attr("data-overlay");if("gallery"===$(this).parents(".an-card").attr("data-type")||$(this).parents(".an-popup-gallery").length){var e=".an-card-wrap";$(this).parents(".an-popup-gallery").length&&(e=".an-popup-gallery"),void 0!==$(this).parents(e).attr("data-overlay")&&""!==$(this).parents(e).attr("data-overlay")&&(t=$(this).parents(e).attr("data-overlay"),$(this).parents(e).find(".an-popup-btn").attr("data-overlay",t))}t=void 0!==t&&""!==t?' data-overlay="true" style="background:'+t+';"':"",$(this).on("click",(function(e){var o=$(this).data("downloadable");if(!0===o){var i='aria-label="Download"',n="download";void 0!==u&&""!==u&&(i='aria-label="'+u+'"',n='download="'+u+'"')}var p="";!0===o&&(p=" ms-auto");var s='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" style="fill:currenColor;"><path d="M13 10H18L12 16L6 10H11V3H13V10ZM4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19Z"></path></svg>',r="";r=$(this).parents(".an-profile").length||$(this).parents(".an-avatar").length?'data-parent="an-profile"':$(this).parents(".an-card-action").length?'data-parent="an-card-action" data-card-id="'+$(this).parents(".an-card").attr("data-id")+'"':"";var l="javascript:void(0)";window.location.href.indexOf("/page/")>-1&&(l=window.location.origin);var d='<a href="'+l+'" class="readmore p-2 text-decoration-underline" '+r+">Read More</a>",c='<span class="an-popup-close'+p+'" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" style="fill:currenColor;"><path d="M12.0007 10.5865L16.9504 5.63672L18.3646 7.05093L13.4149 12.0007L18.3646 16.9504L16.9504 18.3646L12.0007 13.4149L7.05093 18.3646L5.63672 16.9504L10.5865 12.0007L5.63672 7.05093L7.05093 5.63672L12.0007 10.5865Z"></path></svg></span>';if(a){var u=$(this).parents(".an-card-body").find(".an-card-title").text()||$(this).attr("data-title")||$(this).attr("title");void 0!==u&&""!==u||(u=$(this).attr("alt")||$(this).attr("title")||""),u=u.charAt(0).toUpperCase()+u.slice(1);var h=$(this).parents(".an-card-body").find(".an-card-detail").html()||$(this).attr("data-description"),v='<div class="an-popup"'+t+">";if(v+='<div class="an-popup-content">',v+='<div class="an-popup-header animated fadeInDown">',v+='<div class="an-popup-title-wrapper">',v+='<span class="an-popup-title excerpt">'+u+"</span>",v+="</div>",v+='<div class="an-popup-action ms-auto">',!0===o&&(v+='<a href="'+a+'" '+i+" "+n+">"+s+"</a>"),v+=c,v+="</div>",v+="</div>",v+='<div class="an-popup-body animated fadeIn">',v+='<div class="an-popup-body-inner">',"gallery"===$(this).parents(".an-card").attr("data-type")||$(this).parents(".an-popup-gallery").length){var m=[],g=[],f=[],y=[],w=[],b=".an-card-wrap";$(this).parents(".an-popup-gallery").length&&(b=".an-popup-gallery"),$(this).parents(b).find(".an-popup-btn").each((function(){var a=$(this).attr("data-overlay");void 0!==a&&""!==a?w.push(' data-overlay="'+a+'"'):w.push("");var t=$(this).attr("src")||$(this).attr("href")||$(this).attr("data-image")||$(this).find("source").attr("src");m.push(t);var e=$(this).attr("alt")||$(this).attr("title")||"";g.push(e);var o=$(this).attr("data-description")||"";void 0!==o&&""!==o?f.push('data-description="'+o+'"'):f.push("");var i=$(this).attr("data-downloadable")||"";void 0!==i&&""!==i?y.push('data-downloadable="'+i+'"'):y.push("")})),v+='<div class="an-popup-gallery">',m.length>1&&(v+='<span class="an-popup-gallery-prev an-popup-nav-slider" aria-label="Previous"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" style="fill: currentColor;"><path d="M10.8284 12.0007L15.7782 16.9504L14.364 18.3646L8 12.0007L14.364 5.63672L15.7782 7.05093L10.8284 12.0007Z"></path></svg></span>',$(".an-popup-title-wrapper").append('<div class="an-popup-gallery-counter">(<span class="an-popup-gallery-counter-current"></span>/<span class="an-popup-gallery-counter-total">'+m.length+"</span>)</div>")),v+='<div class="an-popup-gallery-inner">';for(var x=0;x<m.length;x++){g[x]=g[x].charAt(0).toUpperCase()+g[x].slice(1),m[x]===a&&g[x]===u?(v+='<div class="an-popup-gallery-item active">',$(".an-popup-gallery-counter-current").text(x+1)):v+='<div class="an-popup-gallery-item">';var C="";fileExists(m[x])||(C=' style="width: 150px;height: 150px;"',g[x]="Image not found",f[x]="",y[x]=""),v+='<img src="'+m[x]+'" alt="'+g[x]+'" '+f[x]+" "+y[x]+C+">",v+="</div>"}v+="</div>",m.length>1&&(v+='<span class="an-popup-gallery-next an-popup-nav-slider" aria-label="Next"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" style="fill: currentColor;"><path d="M13.1714 12.0007L8.22168 7.05093L9.63589 5.63672L15.9999 12.0007L9.63589 18.3646L8.22168 16.9504L13.1714 12.0007Z"></path></svg></span>'),v+="</div>"}else if("video"===$(this).parents(".an-card").attr("data-type")){$(this).parents(".an-card").find(".an-video").each((function(){$(this).get(0).pause(),$(this).get(0).currentTime=0,$(this).get(0).load(),$(this).siblings(".an-video-play-btn").fadeIn("fast"),$(this).siblings(".an-video-stop-btn").fadeOut("fast").removeClass("played")}));var L=$(this).closest(".an-card").find(".an-card-wrap").find(".an-video").clone();if("true"===$(this).closest(".an-card").find(".an-card-wrap").attr("data-play-hover")&&L.attr("autoplay",""),L.attr("controls")||L.attr("controls",""),L.hasClass("has-autoplay")&&(L.removeClass("has-autoplay"),L.attr("autoplay","")),void 0!==L.attr("muted")&&L.removeAttr("muted"),v+='<div class="an-popup-video">',void 0!==$(this).closest(".an-card").find(".an-card-wrap").attr("data-popup-source")&&""!==$(this).closest(".an-card").find(".an-card-wrap").attr("data-popup-source")){var k=$(this).closest(".an-card").find(".an-card-wrap").attr("data-popup-source");if(k&&k.match(/youtube/g)||k&&k.match(/youtu.be/g))k.match(/youtu.be/g)&&(k=k.replace("youtu.be/","youtube.com/embed/")),k.match(/watch/g)&&(k=k.replace("watch?v=","embed/")).match(/list=/g)&&(k=k.replace("embed/","embed/videoseries?si=")),k.match(/playlist/g)&&(k=k.replace("playlist?list=","embed/videoseries?list=")),$(this).closest(".an-card").find(".an-card-wrap").children().hasClass("has-autoplay")&&(k.match(/\?/g)?k+="&autoplay=1":k+="?autoplay=1"),k.match(/origin=/g)||(k=k.match(/\?/g)?k+"&origin="+window.location.origin:k+"?origin="+window.location.origin),""===u&&(u="Youtube Video"),v+='<iframe src="'+k+'" title="'+u+'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>';else if(k.match(/vimeo/g)){var T=k.split("/").pop();(k="https://player.vimeo.com/video/"+T).match(/autoplay=/g)||(k.match(/\?/g)?k+="&autoplay=1":k+="?autoplay=1"),""===u&&(u="Vimeo Video"),v+='<div class="an-popup-video">',v+='<iframe src="'+k+'" title="'+u+'" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>',v+="</div>"}else if(fileExists(k)){L.find("source").length>1&&L.find("source:not(:first-child)").remove();var V=k.split(".").pop();L.find("source").attr("type","video/"+V),L.find("source").attr("src",k),v+=L[0].outerHTML}else v+='<div class="an-popup-content-not-supported">Source Video not found!</div>'}else fileExists(L.find("source").attr("src")||L.find("source").attr("data-src")||L.attr("src")||L.attr("data-src"))?v+=L[0].outerHTML:v+='<div class="an-popup-content-not-supported">Source Video not found!</div>';v+="</div>"}else if(a.match(/\.(mp4|ogg|ogv|webm)/g))if(fileExists(a)){"ogv"===(V=a.split(".").pop())&&(V="ogg");var j="";!1===o&&(j=' controlsList="nodownload"'),v+='<div class="an-popup-video">',v+="<video controls autoplay muted"+j+">",v+='<source src="'+a+'" type="video/'+V+'">',v+="Your browser does not support the video element.",v+="</video>",v+="</div>"}else v+='<div class="an-popup-content-not-supported">Source Video not found!</div>';else if(a.match(/youtu.be/g)||a.match(/youtube/g))a.match(/youtu.be/g)&&(a=a.replace("youtu.be/","youtube.com/embed/")),a.match(/watch/g)&&(a=a.replace("watch?v=","embed/")).match(/list=/g)&&(a=a.replace("embed/","embed/videoseries?si=")),a.match(/playlist/g)&&(a=a.replace("playlist?list=","embed/videoseries?list=")),a.match(/autoplay=/g)||(a.match(/\?/g)?a+="&autoplay=1":a+="?autoplay=1"),a.match(/origin=/g)||(a=a.match(/\?/g)?a+"&origin="+window.location.origin:a+"?origin="+window.location.origin),""===u&&(u="Youtube Video"),v+='<div class="an-popup-video">',v+='<iframe src="'+a+'" title="'+u+'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>',v+="</div>";else if(a.match(/vimeo/g)){T=a.split("/").pop();(a="https://player.vimeo.com/video/"+T).match(/autoplay=/g)||(a.match(/\?/g)?a+="&autoplay=1":a+="?autoplay=1"),""===u&&(u="Vimeo Video"),v+='<div class="an-popup-video">',v+='<iframe src="'+a+'" title="'+u+'" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>',v+="</div>"}else if(a.match(/maps/i)&&a.match(/google/i)||a.match(/maps.app.goo.gl/g)){a.match(/z=/g)||(a.match(/\?/g)?a+="&z=15":a+="?z=15"),""===u&&(u="Google Map"),v+='<div class="an-popup-google-map">',v+='<iframe src="'+a+'" title="'+u+'" frameborder="0" height="400" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>',v+="</div>"}else if(a.match(/#/g)){v+='<div class="an-popup-file-content">',v+='<div class="an-popup-file-content-inner"></div>',v+="</div>";var q=$(".an-popup-file-content-inner"),H=a.split("#").pop();if(q.html('<div class="an-popup-file-content-loading"><span class="an-loading-icon" role="status" aria-hidden="true">Loading...</span></div>'),$("#"+H).length){var M=$("#"+H).clone();q.html(M),M.removeClass("an-hidden-target"),setTimeout((function(){$("body").find("#"+H).not(M).replaceWith('<div id="'+H+'-hidden" class="an-hidden-target"></div>'),$(".an-popup-footer").remove()}),100),$(document).on("click",".an-popup-close",(function(){M.addClass("an-hidden-target"),$("#"+H+"-hidden").replaceWith(M)})),$(document).on("click",".an-popup",(function(a){$(a.target).closest(".an-popup-content").length||(M.addClass("an-hidden-target"),$("#"+H+"-hidden").replaceWith(M))}))}else q.html('<div class="an-popup-file-content-not-found">File Content not found!</div>')}else if(a.match(/\.(html|txt|md|json|js|css|scss|jsx|ts|tsx|xml)/g)&&"qr-code"!==$(this).attr("data-type")){v+='<div class="an-popup-file-content">',v+='<div class="an-popup-file-content-inner"></div>',v+="</div>";q=$(".an-popup-file-content-inner");var O=$(this).attr("data-target-content"),E=a.split(".").pop();(S=new XMLHttpRequest).onreadystatechange=function(){if(4===this.readyState){q.html('<div class="an-popup-file-content-loading"><span class="an-loading-icon" role="status" aria-hidden="true">Loading...</span></div>');var t=this.responseText;if(void 0===O&&!a.match(/\.(txt|md|json|js|css|scss|jsx|ts|tsx|xml)/g))return q.html("target content is empty"),!1;if(void 0===O||""===O||a.match(/\.(txt|md|json|js|css|scss|jsx|ts|tsx|xml)/g)||(t=$(t).find(O).html()||$(t).filter(O).html()),200===this.status){var e="";a.match(/\.(md|json|js|css|scss|jsx|ts|tsx|xml)/g)?(e='<pre class="pre-blocks"><code class="language-'+E+'">'+t+"</code></pre>",q.html(e)):q.html(t)}404===this.status&&q.html('<div class="an-popup-file-content-not-found">File Content not found!</div>')}},S.open("GET",a,!0),S.send()}else if(a.match(/\.(pdf)/g)&&"qr-code"!==$(this).attr("data-type")){var S,z=$(this).attr("data-toolbar");if(z="false"===z?"#toolbar=0":"",v+='<div class="an-popup-file-content">',v+='<div class="an-popup-file-content-inner"></div>',v+="</div>",(q=$(".an-popup-file-content-inner")).html('<div class="an-popup-file-content-loading"><span class="an-loading-icon" role="status" aria-hidden="true">Loading...</span></div>'),a.match(/http/g)||a.match(/https/g))(S=new XMLHttpRequest).onreadystatechange=function(){4===this.readyState&&(200===this.status&&q.html('<iframe src="'+a+z+'" title="'+u+'" frameborder="0" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" height="600" style="width:100%;min-height: 600px;height:100%"></iframe>'),404===this.status&&q.html('<div class="an-popup-file-content-not-found">File Content not found!</div>'))},S.open("GET",a,!0),S.send();else a.match(/\.(pdf)/g)&&(fileExists(a)?q.html('<iframe src="'+a+z+'" title="'+u+'" frameborder="0" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" height="600" style="width:100%;min-height: 600px;height:100%"></iframe>'):q.html('<div class="an-popup-file-content-not-found">File Content not found!</div>'))}else if(a.match(/\.(jpe?g|png|gif|svg|webp|bmp|ico)/g)&&"qr-code"!==$(this).attr("data-type")||a.match(/data:image/g)&&"qr-code"!==$(this).attr("data-type")||a.match(/blob:/g)&&"qr-code"!==$(this).attr("data-type")||a.match(/base64/g)&&"qr-code"!==$(this).attr("data-type")||a.match(/unsplash/g)&&"qr-code"!==$(this).attr("data-type")||a.match(/pexel/g)&&"qr-code"!==$(this).attr("data-type"))v+='<div class="an-popup-image">',v+='<img src="'+a+'" alt="'+u+'">',v+="</div>";else if("qr-code"===$(this).attr("data-type")){v+='<div class="an-popup-file-content" style="min-width: fit-content;">',v+='<div class="an-popup-file-content-inner qr-code text-center">',v+="<h4>Scan QR Code</h4>",v+='<img src="'+("https://chart.googleapis.com/chart?cht=qr&chl="+a+"&chs=380x380&chld=L|0")+'" alt="'+u+'" width="380" height="380" class="p-2 rounded border border-2 border-theme">',v+='<div class="qr-code-info mt-2">',v+=u,v+="</div>",v+="</div>"}else v+='<div class="an-popup-content-not-supported">Source not found/supported!</div>';if(v+="</div>",v+="</div>",void 0!==h&&""!==h&&(v+='<div class="an-popup-footer animated fadeInUp">',v+='<div class="an-popup-description">',v+='<small class="excerpt-2 fs-sm">'+(h=h.match(/<a/g)?h.replace(/(<([^>]+)>)/gi,(function(a,t){return/<a/g.test(t)?a:""})):h.replace(/(<([^>]+)>)/gi,""))+"</small>",v+="</div>",h.length>130&&(v+=d),v+="</div>"),v+="</div>",v+="</div>",a.match(/youtube/g)&&a.match(/youtu.be/g)&&a.match(/vimeo/g)||fileExists(a)||($(".an-popup-title-wrapper").remove(),$(".an-popup-footer").remove(),$(".an-popup-action [download]").remove(),$(".an-popup-image").css("max-height","300px"),$(".an-popup-image").find("img").css("aspect-ratio",1)),!$(".an-popup").length){$("body").append(v),$(".an-popup").addClass("an-popup-show"),$("body").addClass("an-popup-open");var A=$(".an-popup-title"),D=$(".an-popup-footer"),I=$(".an-popup-action");$(".an-popup-video").length&&$("audio.active").each((function(){this.paused||this.pause()})),$(".an-popup-gallery-prev").on("click",(function(){var a=$(".an-popup-gallery-item.active"),t=a.prev(".an-popup-gallery-item");0===t.length&&(t=$(".an-popup-gallery-item:last"));var e=t.find("img").attr("alt"),o=t.find("img").attr("data-description"),i=t.find("img").attr("data-downloadable"),n=t.find("img").attr("src");if(a.removeClass("active"),A.text(e),D.html(""),void 0!==o&&""!==o&&(o=o.match(/<a/g)?o.replace(/(<([^>]+)>)/gi,(function(a,t){return/<a/g.test(t)?a:""})):o.replace(/(<([^>]+)>)/gi,""),D.append('<div class="an-popup-description"><small class="excerpt-2 fs-sm">'+o+"</small></div>"),o.length>130&&D.find(".an-popup-description").append(d)),I.html(""),void 0!==i&&""!==i&&"true"===i){var p='aria-label="Download"',r="download";void 0!==e&&""!==e&&(p='aria-label="'+e+'"',r='download="'+e+'"'),I.append('<a href="'+n+'" '+p+" "+r+">"+s+"</a>")}I.append(c),$(".an-popup-gallery-counter-current").text(t.index()+1),t.addClass("active")})),$(".an-popup-gallery-next").on("click",(function(){var a=$(".an-popup-gallery-item.active"),t=a.next(".an-popup-gallery-item");0===t.length&&(t=$(".an-popup-gallery-item:first"));var e=t.find("img").attr("alt"),o=t.find("img").attr("data-description"),i=t.find("img").attr("data-downloadable"),n=t.find("img").attr("src");if(a.removeClass("active"),A.text(e),D.html(""),void 0!==o&&""!==o&&(o=o.match(/<a/g)?o.replace(/(<([^>]+)>)/gi,(function(a,t){return/<a/g.test(t)?a:""})):o.replace(/(<([^>]+)>)/gi,""),D.append('<div class="an-popup-description"><small class="excerpt-2 fs-sm">'+o+"</small></div>"),o.length>130&&D.find(".an-popup-description").append(d)),I.html(""),void 0!==i&&""!==i&&"true"===i){var p='aria-label="Download"',r="download";void 0!==e&&""!==e&&(p='aria-label="'+e+'"',r='download="'+e+'"'),I.append('<a href="'+n+'" '+p+" "+r+">"+s+"</a>")}I.append(c),$(".an-popup-gallery-counter-current").text(t.index()+1),t.addClass("active")}))}}e.preventDefault()}))})),$(document).on("click",".an-popup-close",(function(){$("body").removeClass("an-popup-open"),$(".an-popup").addClass("animated fadeOut"),setTimeout((function(){$(".an-popup").removeClass("an-popup-show").remove()}),500)})),$(document).on("click",".readmore",(function(){var a=$(this).data("parent");if($("body").removeClass("an-popup-open"),$(".an-popup").addClass("animated fadeOut"),setTimeout((function(){$(".an-popup").removeClass("an-popup-show").remove()}),500),"an-profile"===a)$("section#about").length?"v-card"===$("html").attr("data-type")&&$('.an-nav-link[data-target="about"]').length?$('.an-nav-link[data-target="about"]').trigger("click"):$("html, body").scrollTop($("section#about").offset().top-initialOffset):window.location.href.indexOf("/page/")>-1?window.location.href=$(this).attr("href"):$("html, body").scrollTop(0);else if("an-card-action"===a){var t=$(this).data("card-id");$('.an-card[data-id="'+t+'"]').find(".an-card-link").each((function(){void 0!==$(this).attr("href")&&""!==$(this).attr("href")?window.location.href=$(this).attr("href"):($(this).trigger("click"),$("#an-modal").modal("show"))}))}else $("html, body").scrollTop(0);return!1})),$(document).on("click",".an-popup-content a[data-target]",(function(){$("body").removeClass("an-popup-open"),$(".an-popup").addClass("animated fadeOut"),setTimeout((function(){$(".an-popup").removeClass("an-popup-show").remove()}),500);var a=$(this).data("target");return $("#"+a).length?$("html, body").scrollTop($("#"+a).offset().top-initialOffset):$("html, body").scrollTop(0),!1})),$(document).on("click",".an-popup",(function(a){$(a.target).closest(".an-popup-content").length||($("body").removeClass("an-popup-open"),$(".an-popup").addClass("animated fadeOut"),setTimeout((function(){$(".an-popup").removeClass("an-popup-show").remove()}),500))})))}ANPopUp();
